import React, {} from 'react';
import classnames from 'classnames';

import {getProgressDashArray} from '@/util/getProgressDasharray';

import styles from './styles.scss';


type ProgressBarProps = {
    progress: number;
    containerClass?: string;
} & React.SVGAttributes<SVGElement>;


const ProgressBar = ({
    progress,
    containerClass,
    ...props
}: ProgressBarProps) => (
    <div className={classnames(
        styles.progressBarContainer,
        containerClass,
    )}>
        <svg
            {...props}
            width="60"
            height="60"
            viewBox="0 0 60 60"
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
        >
            <rect x="4" y="4" width="52" height="52" rx="40" stroke="#cccccc" strokeWidth="8"
                className={styles.progressBack}
            />
            <rect x="4" y="4" width="52" height="52" rx="40" stroke="#5ba015"
                fill="none"
                strokeWidth="8"
                className={styles.progressRect}
                strokeDasharray={getProgressDashArray(52, progress)}
            />
            <path
                className={classnames(
                    styles.progressSuccess,
                    {[styles.visible]: progress >= 1},
                )}
                fill="#5BA015"
                /* eslint-disable-next-line max-len */
                d="M26.016 40.056C26.016 39.848 25.976 39.744 25.896 39.744L25.344 40.008C25.344 39.896 25.28 39.816 25.152 39.768L24.96 39.744C24.832 39.744 24.672 39.8 24.48 39.912C24.448 39.832 24.408 39.752 24.36 39.672C24.312 39.592 24.272 39.52 24.24 39.456C24.032 39.056 23.824 38.616 23.616 38.136C23.424 37.64 23.24 37.168 23.064 36.72C22.904 36.272 22.776 35.92 22.68 35.664C22.616 35.456 22.544 35.144 22.464 34.728C22.384 34.312 22.304 33.784 22.224 33.144C22.4 33.256 22.536 33.312 22.632 33.312C22.744 33.312 22.848 33.144 22.944 32.808C22.992 32.872 23.08 32.904 23.208 32.904C23.304 32.904 23.376 32.872 23.424 32.808L23.808 32.232L24.24 32.376H24.264C24.296 32.376 24.328 32.36 24.36 32.328C24.392 32.296 24.44 32.264 24.504 32.232C24.632 32.152 24.728 32.112 24.792 32.112L24.864 32.136C25.264 32.328 25.52 32.68 25.632 33.192C25.92 34.408 26.208 35.016 26.496 35.016C26.784 35.016 27.12 34.712 27.504 34.104C27.696 33.8 27.888 33.448 28.08 33.048C28.288 32.648 28.496 32.2 28.704 31.704C28.736 31.896 28.768 31.992 28.8 31.992C28.88 31.992 29.016 31.792 29.208 31.392C29.416 30.992 29.744 30.44 30.192 29.736C30.448 29.304 30.768 28.816 31.152 28.272C31.552 27.728 31.976 27.168 32.424 26.592C32.872 26.016 33.304 25.472 33.72 24.96C34.152 24.448 34.536 24.008 34.872 23.64C35.208 23.272 35.456 23.032 35.616 22.92C36.224 22.504 36.704 22.104 37.056 21.72C37.04 21.832 37.016 21.936 36.984 22.032C36.968 22.112 36.96 22.168 36.96 22.2C36.96 22.264 36.992 22.296 37.056 22.296L37.728 21.96V22.056C37.728 22.184 37.76 22.248 37.824 22.248C37.872 22.248 37.968 22.176 38.112 22.032C38.256 21.888 38.336 21.784 38.352 21.72L38.304 22.056L39.12 21.576L38.928 22.008C39.184 21.832 39.368 21.744 39.48 21.744C39.544 21.744 39.592 21.784 39.624 21.864C39.656 21.928 39.672 21.992 39.672 22.056C39.672 22.152 39.632 22.264 39.552 22.392C39.472 22.52 39.368 22.672 39.24 22.848C39.144 22.976 38.984 23.168 38.76 23.424C38.552 23.664 38.232 24.024 37.8 24.504C37.368 24.968 36.792 25.616 36.072 26.448C35.88 26.656 35.584 27.024 35.184 27.552C34.784 28.064 34.328 28.664 33.816 29.352C33.32 30.024 32.824 30.704 32.328 31.392C31.832 32.08 31.392 32.704 31.008 33.264C30.624 33.808 30.352 34.216 30.192 34.488L28.704 37.008C28.384 37.552 28.12 38 27.912 38.352C27.704 38.688 27.544 38.92 27.432 39.048C27.192 39.336 26.928 39.592 26.64 39.816L26.424 39.696L26.232 39.816L26.016 40.056Z"
            />
        </svg>
    </div>
);

export default ProgressBar;
